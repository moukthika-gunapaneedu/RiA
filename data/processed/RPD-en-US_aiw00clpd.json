{"doc_name": "aiw00clpd.pdf", "doc_path": "data/raw/RPD-en-US/aiw00clpd.pdf", "num_pages": 3, "nonempty_pages": 3, "total_chars": 11093, "pages": [{"page": 1, "text": "2/4/26, 2:11 PM Configuring to use the LPD protocol - Jenski - Test portal- RPD Linux\nConfiguring\nConfiguring / Preparing for job submission / Configuring to use the LPD protocol\nConfiguring to use the LPD protocol\nBefore a user can use the line printer daemon (LPD) protocol to submit jobs to the RICOH ProcessDirector system, an administrator must do\nconfiguration tasks on the RICOH ProcessDirector system to configure the input devices that receive the jobs, to configure the workflows that the\njobs are assigned to, and to define the hosts that can use the LPD protocol to submit jobs to RICOH ProcessDirector. The administrator might also\nhave to do some configuration tasks on these hosts.\nBefore you begin this procedure, review the supplied workflows. If you find one that contains some or all the steps that you want to include in\nyour workflow, you can copy it and modify it to meet your needs.\nIn addition, determine whether you can use one of the LPD input devices that RICOH ProcessDirector provides or whether the installation requires\na customized input device. RICOH ProcessDirector provides LPD input devices that you can use with only minor modifications or that you can\ncopy to create a customized LPD input device.\nTo configure to use the LPD protocol:\n1. If any LPD daemons or processes that do not belong to RICOH ProcessDirector (for example, the Common UNIX Printing System [CUPS] LPD\ndaemon) are running on the same system as the parent server for the input device, stop them.\nImportant:\nDo not uninstall CUPS.\n2. Update the system setting to specify the hosts that are allowed to submit jobs using the LPD protocol.\n1. Click the Administration tab.\n2. In the left pane, click Settings ⇒ System.\n3. In the Hosts allowed to submit LPD jobs field, type the allowed host names or IP addresses.\nSeparate host names and IP addresses with semicolons.\nNote:\nYou can use wild cards in host names and IP addresses (for example, *.acmeproducts.com or 192.*). A value of * means\nthat all hosts are allowed to submit jobs. Values that contain only numbers, decimal points, and wild cards are compared to IP\naddresses. Values that contain wild cards and at least one alphabetic character are compared to host names. An empty value\nmeans that no hosts are allowed to submit jobs.\nThe default value is: *\nYou cannot submit jobs to LPD input devices from the primary computer.\nIf you experience long wait times or missing jobs, set the LPD host entries to IP addresses or fully qualified host names (such\nas hostserver.co.acmeproducts.com instead of *.acmeproducts.com).\n4. Click SAVE.\n3. On each system that you authorized to submit LPD jobs, determine if the print command lets you specify a server name. If it does not, do\none of the following steps to create a print queue on the system to send jobs to the LPD input device.\nNote:\nThe LPR client that is supplied with the base operating system in some versions of Windows and that is available as an optional\nfeature of other versions lets you specify a server name. If you use this LPR client or an equivalent, you do not have to create a print\nqueue on Windows.\n4. To create a print queue on SLES 12.0:\n1. Log in as the root user.\n2. Start YaST.\n3. Click Hardware ⇒ Printer. With Printer Configurations highlighted, click Add. Click Connection Wizard, and then select Line Printer\nDaemon (LPD) Protocol.\n4. In the IP Address or Host Name field, type the host name or IP address of the system where the LPD input device is defined.\n5. Type the name of the LPD input device in the Queue Name field, and click OK.\n6. In the Set Arbitrary Name field, type the name of the LPD input device. This name must be unique on this Linux system. Although\nLPD input device names are case-sensitive, Linux does not allow you to define multiple LPD input device names that are alike except\nfor case. For example, you cannot define one LPD input device called HotFolderLPD and another called hotfolderlpd.\n1 of 3"}, {"page": 2, "text": "2/4/26, 2:11 PM Configuring to use the LPD protocol - Jenski - Test portal- RPD Linux\n7. Click OK.\n5. To create a print queue on a Red Hat-derived operating system:\nNote:\nMake sure you meet these pre-requisites:\nYou have configured CUPS.\nYou have permissions in CUPS to manage printers.\n1. Log in as the root user.\n2. Use a browser and access https://hostname:631/admin/, where hostname is the host name or IP address.\n3. Click Add printer.\n4. Go to Other Network Printers and select LPD/LPR Host or Printer.\n5. In the connection field, type the hostname or IP address of the system where the LPD input device is defined. For example:\nlpd://hostname/queue\nwhere hostname is the host name or IP address and queue is the queue name.\n6. Click Continue.\n7. In the Add Printer dialog, enter the name, description, and location of the printer.\n8. Click Continue to select the printer make and model.\n9. Click Add Printer.\n10. Set the default options in the next dialog and click Set Default Options.\n6. On the RICOH ProcessDirector system, copy and modify a workflow that contains the processing steps that you want the jobs that are\nsubmitted using the LPD protocol to follow.\nTo copy and modify one or more workflows:\n1. Click the Workflow tab.\n2. Right-click the workflow that you want to copy, and click Copy.\n3. Name the copy of the workflow, fill in or edit other values that you need, and click Continue.\n4. Right-click each step and select Properties. Modify the properties as necessary.\nRemove ${Job.InputFile} from the Job name property in the SetJobPropsFromTextFile step.\n5. If you have the AFP Support feature installed and the AFP resources (such as fonts, overlays, and page segments) required by the jobs\nthat are processed through this workflow are not going to be sent inline with the input file, make sure that those resources are\navailable to the RICOH ProcessDirector system. We recommend that you move these resources to /aiw/aiw1/resources or\n/usr/lpp/psf/reslib, so that they are available to all the components of RICOH ProcessDirector. If you cannot use those\ndirectories, you can set the AFP resource path property on one of the steps in the workflow to refer to the directory or directories that\nhold the resources.\nNote:\nThe AFP resource path can be set as a default job property on various step templates, including EnableRepositioning,\nPrintJobs, and ConvertLineDataJobIntoAFP. You only need to set the value on one of the steps; the others inherit the value.\n6. To use the workflow, save and enable it by changing , the Save & Enable/Disable switch, to the On position.\n7. Repeat these steps if you want to create additional workflows.\n7. On the RICOH ProcessDirector system, configure an input device so that it assigns the correct workflow or workflows for the input files that\nit receives. We recommend that you copy and rename one of the supplied LPD input devices, then verify or update the settings described\nbelow.\n1. Click the Administration tab.\n2. In the left pane, click Devices ⇒ Input Devices.\n3. Right-click the input device that you want to copy and select Copy.\nNote:\nThe new input device is the same type as the copied input device. For example, you cannot create a new LPD input device by\ncopying a hot folder.\n4. In the left pane, click Show all tabs to display all the properties for this input device.\n5. Verify or update the values for these properties:\nInput device name\nMake sure that the input device name does not include any spaces. The LPR client cannot process names with spaces.\nIt is best to limit the input device name to 8 characters. Depending on the print command that you use, you might have to\ncreate a print queue on the sending system with the same name as the input device. Some systems truncate print queue names\nto 8 characters.\n2 of 3"}, {"page": 3, "text": "2/4/26, 2:11 PM Configuring to use the LPD protocol - Jenski - Test portal- RPD Linux\nFolder location\nThe directory on the primary computer that receives jobs from authorized hosts. Make sure that the file system is set up so that\nthe directory you list here is large enough to handle the amount of data that the LPR client sends without filling the file system.\nStaging location\nThe directory that RICOH ProcessDirector moves input files to before they are submitted as jobs. Make sure that the file system is\nset up so that the directory you list here is large enough to handle the amount of data that the LPR client sends without filling\nthe file system. Remember that there might be two copies of an input file in the system at any time, one in the Folder location\ndirectory and one in the Staging location directory.\nParent server\nThe RICOH ProcessDirector server where the files will be received; for example, a submitter would specify this server name on the\nlpr or lprafp command. The server specified here must be configured to accept jobs over the LPD protocol.\n6. To assign workflows to jobs, with either single or multiple input files:\nNote:\nInput devices with a Linux parent server cannot create a parent job with multiple children. Instead, one parent job and one\nchild job are created for each input file.\n1. Set the Submit step property to SubmitInputFiles and the Workflow property to ParentNoPrint.\n2. Determine how you want the input device to assign the workflow for each single job or child job. You can select one of these:\nSet the Child workflow initialization step property to SetJobTypeFromRules and use the Child workflow parsing rules property\nto specify the name of the control file that can set the workflow from a value of an option of the print command.\nRICOH ProcessDirector provides two sample control files that are used to set the workflow. The sample control files, called\nreceive_lpd_jobtype.cfg and receive_lpd_pdf_jobtype.cfg, are installed in the /aiw/aiw1/samples/rules/\ndirectory. You can copy one of the files to the /aiw/aiw1/control_files/rules/ directory and modify it to meet your\nneeds, then update the value of the Child workflow parsing rules property to point to your file.\nSet the Child workflow initialization step property to SetJobTypeFromFileName and use the Child workflow pattern property\nto specify the string that RICOH ProcessDirector should look for in the input file name and use as the workflow name. If you\nuse this method, you must make sure that a workflow with the corresponding name exists.\n8. If the control file that you created in the previous step sets job scheduling properties such as Media or Job size based on the values of\noptions of the print command, make sure that the corresponding scheduling properties are set on the target printers in RICOH\nProcessDirector. If the scheduling properties do not match, the jobs are not automatically scheduled to those printers.\n9. Make sure that the LPD input devices are connected and enabled.\nNote:\nThe LPD input device does not return status information in response to the lpq command.\n10. From a host system that you authorized, submit some test jobs. If errors occur, correct the errors that messages from the host system or\nRICOH ProcessDirector identify.\nParent topic: Preparing for job submission\n3 of 3"}]}