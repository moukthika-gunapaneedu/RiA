{"doc_name": "aiw00c35.pdf", "doc_path": "data/raw/RPD-en-US/aiw00c35.pdf", "num_pages": 2, "nonempty_pages": 2, "total_chars": 8800, "pages": [{"page": 1, "text": "2/4/26, 2:11 PM Configuring to use AFP Download Plus - Jenski - Test portal- RPD Linux\nConfiguring\nConfiguring / Preparing for job submission / Configuring to use AFP Download Plus\nConfiguring to use AFP Download Plus\nBefore AFP Download Plus can send data sets from z/OS to the RICOH ProcessDirector system, an administrator must do configuration tasks on\nz/OS. The administrator also does corresponding tasks on the RICOH ProcessDirector system to configure the input devices that receive the data\nsets and to configure the workflows that the data sets are assigned to.\nBefore you begin this procedure, review the supplied workflows. If you find one that contains some or all the steps that you want to include in\nyour workflow, you can copy it and modify it to meet your needs. The DownloadAFP and DownloadLineData workflows are recommended for\nuse with AFP Download Plus.\nIn addition, determine whether you can use one of the Download input devices that RICOH ProcessDirector provides or whether the installation\nrequires a customized input device. RICOH ProcessDirector provides several Download input devices that you can use with only minor\nmodifications or that you can copy to create a customized Download input device.\nTo configure to use AFP Download Plus:\n1. On the RICOH ProcessDirector system, copy and modify a workflow that contains the processing steps that you want the jobs that are\nsubmitted by AFP Download Plus to follow.\nTo copy and modify one or more workflows:\n1. Click the Workflow tab.\n2. Right-click the workflow that you want to copy and select Copy.\nWe recommend using the DownloadAFP and DownloadLineData workflows with AFP Download Plus.\n3. Name the copy of the workflow, fill in or edit other values that you need, and click Continue.\n4. In the workflow editor, right-click each step and select Properties. Modify the properties as necessary.\n5. If the AFP resources (such as fonts, overlays, and page segments) required by the jobs that are processed through this workflow are\nnot going to be sent inline with the input file, make sure that those resources are available to the RICOH ProcessDirector system. We\nrecommend that you move these resources to /aiw/aiw1/resources (Linux) or C:\\aiw\\aiw1\\resources (Windows) or\n/usr/lpp/psf/reslib (Linux) or C:\\Program Files (x86)\\Ricoh\\PSF\\reslib (Windows), so that they are available to all the\ncomponents of RICOH ProcessDirector. If you cannot use those directories, you can set the AFP resource path property on one of the\nsteps in the workflow to refer to the directory or directories that hold the resources.\nNote:\nThe AFP resource path can be set as a default job property on various step templates, including EnableRepositioning,\nCreatePageRanges, PrintJobs, and ConvertLineDataJobIntoAFP. You need to set the value on only one of the steps; the others\ninherit the value.\n6. To save and enable the workflow, change , the Save & Enable/Disable switch, to the On position.\n7. Repeat these steps if you want to create an additional workflow.\n2. On the RICOH ProcessDirector system, configure an input device so that it assigns the correct workflow or workflows for the z/OS data sets\nthat it receives. We recommend that you copy and rename one of the supplied Download input devices, then verify or update the settings\ndescribed below.\n1. Click the Administration tab.\n2. In the left pane, click Devices â‡’ Input Devices.\n3. Right-click the Download input device that you want to copy and select Copy.\nNote:\nThe new input device that RICOH ProcessDirector creates through the copy action is the same type as the copied input device.\nYou cannot create a new Download input device by copying a hot folder or an LPD input device.\n4. In the left pane, click Show all tabs to display all the properties for this input device.\n5. Verify or update the values for these properties:\nPort number\nThe port number that this input device uses to communicate with AFP Download Plus. Make note of the port number that you\nspecify so that you can use it in your routing control data set on z/OS. If InfoPrint Manager for Windows is also receiving jobs\nfrom this z/OS system, make sure you assign a port number that InfoPrint Manager is not using.\n1 of 2"}, {"page": 2, "text": "2/4/26, 2:11 PM Configuring to use AFP Download Plus - Jenski - Test portal- RPD Linux\nFolder location\nThe directory on the primary computer that receives data sets from AFP Download Plus. Make sure that the file system is set up\nso that the directory you list here is large enough to handle the amount of data that AFP Download Plus sends without filling the\nfile system.\nStaging location\nThe directory that RICOH ProcessDirector moves input files to before they are submitted as jobs. Make sure that the file system is\nset up so that the directory you list here is large enough to handle the amount of data that AFP Download Plus sends without\nfilling the file system. Remember that there might be two copies of an input file in the system at any time, one in the Folder\nlocation directory and one in the Staging location directory.\nReport errors\nLets RICOH ProcessDirector report internal processing errors to AFP Download Plus for assistance with problem determination. To\nuse this function, set this property to Yes.\nSend return code to host\nControls some aspects of communication between RICOH ProcessDirector and the host system that submits jobs to this input\ndevice. Yes means the input device does not complete the transmission from the host system until after it checks the return code\nthat the exit program or script reports.\nIf the return code is zero, the input device reports success to the mainframe and ends the transmission.\nIf the return code is any other value, the input device reports failure to the mainframe and ends the transmission.\nNo means that RICOH ProcessDirector ends the transmission with the host system without checking or reporting the return\ncode.\n6. If the input device needs to accept single or multiple data set jobs:\n1. Set the Submit step property to SubmitInputFiles and the Workflow property to ParentNoPrint.\n2. Determine how you want the input device to assign the workflow for each single job or child job. You can select one of these:\nSet the Child workflow initialization step property to Not set and set the Child workflow property to the name of an existing\nworkflow to assign the same workflow to every job that this input device processes.\nSet the Child workflow initialization step property to SetJobTypeFromRules and use the Child workflow parsing rules property\nto specify the name of the control file that can set the workflow from a JCL parameter value.\nRICOH ProcessDirector provides a sample control file that uses the values of JCL parameters to set the workflow. The sample\ncontrol file, called receive_jcl_jobtype.cfg, is installed in the /aiw/aiw1/samples/rules/ (Linux) or\nC:\\aiw\\aiw1\\samples\\rules\\ (Windows) directory. You can copy that file to the /aiw/aiw1/control_files/rules/\n(Linux) or C:\\aiw\\aiw1\\control_files\\rules\\ (Windows) directory and modify it to meet your needs, then update the\nvalue of the Child workflow parsing rules property to point to your file.\nSet the Child workflow initialization step property to SetJobTypeFromFileName and use the Child workflow pattern property\nto specify the string that RICOH ProcessDirector should look for in the input file name and use as the workflow name. If you\nuse this method, you must make sure that a workflow with the corresponding name exists.\n3. On z/OS, use the AFP Download Plus documentation to install AFP Download Plus. Configure the AFP Download Plus sender to send jobs\nto RICOH ProcessDirector using the configuration information provided in Print Services Facility for z/OS: AFP Download Plus (S550-0433).\nWhen you define the JES work-selection criteria for each FSA, include:\nOn the IPADDR parameter, the TCP/IP address of the parent server that is running the target input devices.\nOn the PORTNO parameter, the port numbers of the target input devices.\n4. Start the AFP Download Plus sender and FSAs.\n5. If in a previous step you created a control file that sets job scheduling properties such as Class, Form, or Destination based on the JCL\nparameters of the job, make sure that the corresponding scheduling properties are set on the target printers in RICOH ProcessDirector. If\nthe scheduling properties do not match, the jobs cannot be automatically scheduled to those printers.\n6. On the RICOH ProcessDirector system, make sure that the input devices that you created to receive jobs from AFP Download Plus are\nconnected and enabled.\n7. On the z/OS system, submit jobs to RICOH ProcessDirector. If errors occur, correct the errors that messages from z/OS or RICOH\nProcessDirector identify.\nParent topic: Preparing for job submission\n2 of 2"}]}