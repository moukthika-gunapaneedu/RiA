{"doc_name": "ws-inputdevice_c_PrepStatusSOAP.pdf", "doc_path": "data/raw/RPD-en-US/ws-inputdevice_c_PrepStatusSOAP.pdf", "num_pages": 2, "nonempty_pages": 2, "total_chars": 5762, "pages": [{"page": 1, "text": "2/4/26, 2:19 PM Preparing to send status to a SOAP web service - Jenski - Test portal- RPD Linux\nConfiguring\nConfiguring / Notifications / Web service notifications / Preparing to send status to a SOAP web service\nPreparing to send status to a SOAP web service\nYou can use notification objects to send status to a SOAP web service for an application. For example, you can create a notification object to\nmonitor when a job enters the RetainCompletedJobs step in a workflow that processes orders. When that event happens, the notification object\ncan send the application information about the job, such as the order number and customer name.\nTo prepare to send status to a SOAP web service:\n1. Learn the requirements for communication with the SOAP web service for the application:\nThe values for authenticating with the application\nThe values for requesting data from the SOAP web service\nThe format of the data provided in the response\nRefer to the documentation for the application or consult with the company that hosts the application.\n2. To prepare RICOH ProcessDirector to communicate with the application, do these tasks:\nIf the application requires a security certificate, install the certificate on the RICOH ProcessDirector primary computer.\nIf your environment requires a proxy server to communicate with web services, set up the system to use it.\nImport WSDL files for all the web services that you plan to call.\nRICOH ProcessDirector creates SOAP request objects from SOAP operations in the WSDL file. You specify a prefix that RICOH\nProcessDirector adds to the names of the SOAP operations when it creates the objects. A SOAP request object lets RICOH ProcessDirector\ndetermine the SOAP version and other information required to make a correct call to the web service.\nFor more information, see the related tasks.\n3. Run a manual test that authenticates with the application and requests a response from the SOAP web service. Verify that the web service\nreturns the response that you want.\nMany browsers have plug-ins, such as Boomerang for Google Chrome, that test web service calls to SOAP clients.\n4. Decide on the event that you want to trigger the notification and the conditions that determine when the notification calls the web service.\nIf you want to send a notification for an event that occurs only when a specific workflow processes a job, specify that workflow as a\ncondition.\n5. Define a SOAP web service notification:\n1. Click the Administration tab.\n2. In the left pane, click Objects ⇒ Notifications.\n3. Click Add ⇒ SOAP Web Service Notification.\n6. On the General tab, type a name for the notification.\n7. On the Request tab:\n1. Set the Request URL property to the URL of the web service that you want to notify.\n2. For the value of the Request payload property, specify the body of the web services request that the notification submits to the\napplication.\nIn this example, the payload contains two XML elements: <Token> and <OrderNumber>.\n<Token>${WS.Notification.WebService.Credential}</Token> <OrderNumber>${Job.Info.Attr1}\n</OrderNumber>\nThe value for each element is a RICOH ProcessDirector symbol containing a property. If you are using a web service to authenticate\nwith the application, include the WSNotification.WebService.Credential property in a symbol. Replace the other element and property\nwith the elements and properties that you want to send to the application. The notification resolves the symbols when it sends status\nto the SOAP web service.\n3. Set the SOAP request property to the SOAP request that RICOH ProcessDirector created when you imported the WSDL file.\nFor example, you want to use the CloseoutOrderByNumber SOAP request. You prepended PrintShop to the names of the SOAP\nrequests when you imported them. Select PrintShop-CloseoutOrderByNumber.\n4. If your environment requires a proxy server to communicate with web services, set the Use proxy property to the correct proxy server.\n8. On the Authentication tab, specify the values required to authenticate with the application.\nFor more information, see the related task about authenticating with a SOAP web service.\nIf the application does not require authentication, leave all the Authentication properties blank.\n9. On the Event tab:\n1. Choose the type of object to be monitored.\n2. Select the property, the action, and the value to monitor.\n1 of 2"}, {"page": 2, "text": "2/4/26, 2:19 PM Preparing to send status to a SOAP web service - Jenski - Test portal- RPD Linux\n3. To define another event, click + to the right of any event.\n4. To delete an event, click - to the right of the event you want to delete.\nFor example, to send a notification when the state of a job changes to Retained, select Current job state, Changes to, and Retained.\n10. On the Conditions tab:\n1. Select the property and the value that must be satisfied before any notifications are sent.\n2. To define another condition, click + to the right of any event.\nTo specify how the conditions are combined, select Any, All, or Custom.\n3. To delete a condition, click - to the right of the condition you want to delete.\nFor example, to send a notification only when a child job is in the ProcessWebOrders workflow, specify two conditions:\nWorkflow = ProcessWebOrders\nJob number like*.*\nTo apply the conditions only when a job meets both of them, select All.\n11. When you finish, click OK.\nWhen you finish setting up your input devices, notifications, and workflows, test the exchange of data between RICOH ProcessDirector and the\napplication.\nExample\nThe supplied RestfulWebServiceSampleNorify REST web service notification is similar to a SOAP web service notification. The MarcomCentral\nConnect feature includes a supplied SOAP web service notification.\nParent topic: Web service notifications\n2 of 2"}]}